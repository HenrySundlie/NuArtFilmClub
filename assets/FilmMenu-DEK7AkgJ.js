import{t as e,b as I,a as w,j as g}from"./index-COhauVxU.js";import{L as R,r as p}from"./react-Afj6T7yh.js";import{f as S}from"./FilmStore-GRZtJn78.js";import{a as m}from"./emotion-CuswJqH_.js";import{B as C}from"./Page.styles-D1wRd_4F.js";const E=m("div",{target:"elutsbk8"})("--radius:16px;--border:1px solid ",e.colors.border,";--ring:2px solid ",e.colors.accent,";--shadow:",e.shadows.lg,";min-height:100dvh;color:",e.colors.text.primary,`;background:radial-gradient(
      1200px 500px at 50% -10%,
      rgba(255, 255, 255, 0.06),
      transparent
    ),`,e.colors.background,";padding:clamp(",e.spacing.lg,", 3vw, ",e.spacing.xl,");-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;",e.breakpoints.mobile,"{padding:",e.spacing.md,";}"),P=m("h1",{target:"elutsbk7"})("margin:0 0 clamp(",e.spacing.lg,", 3vw, ",e.spacing.xl,`);text-align:left;letter-spacing:0.04em;line-height:1.08;font-weight:400;font-size:clamp(
    `,e.typography.h1.mobile.fontSize,`,
    4vw,
    `,e.typography.h1.fontSize,`
  );color:#ffffff;background:none;-webkit-background-clip:initial;background-clip:initial;position:relative;z-index:0;text-wrap:balance;`),L=m("div",{target:"elutsbk6"})("max-width:1100px;margin:0 auto;display:grid;gap:clamp(",e.spacing.md,", 2.5vw, ",e.spacing.lg,");grid-template-columns:1fr;",e.breakpoints.desktop,"{grid-template-columns:repeat(2, minmax(0, 1fr));}",e.breakpoints.mobile,"{gap:",e.spacing.md,";}"),F=m(R,{target:"elutsbk5"})("position:relative;display:grid;grid-template-columns:clamp(110px, 22%, 180px) 1fr;align-items:stretch;text-decoration:none;border-radius:",e.radii.md,";overflow:clip;border:1px solid ",e.colors.text.light,";background:",e.surfaces.elevatedOverlay,",",e.colors.surfaceDeep,";box-shadow:none;transition:filter 220ms ease,background 220ms ease;min-height:clamp(150px, 18vw, 180px);&:hover{background:",e.surfaces.subtleOverlay,",",e.colors.surface,";filter:saturate(1.02) contrast(1.01);}&:focus-visible{outline:var(--ring);outline-offset:3px;}",e.breakpoints.mobile,"{grid-template-columns:clamp(110px, 40%, 180px) 1fr;min-height:160px;}"),M=m("img",{target:"elutsbk4"})("width:100%;height:100%;object-fit:cover;display:block;filter:saturate(1.03) contrast(1.02);transform:translateZ(0);transition:transform 450ms cubic-bezier(0.2, 0.7, 0, 1);",F,":hover &{transform:scale(1.03);}",e.breakpoints.mobile,"{height:100%;}"),A=m("div",{target:"elutsbk3"})("padding:clamp(",e.spacing.md,", 2vw, ",e.spacing.lg,");display:grid;align-content:center;gap:calc(",e.spacing.sm," * 0.75);color:",e.colors.text.primary,";min-width:0;"),B=m("h2",{target:"elutsbk2"})("margin:0;color:",e.colors.text.primary,`;font-size:clamp(
    `,e.typography.h2.mobile.fontSize,`,
    2.2vw,
    `,e.typography.h2.fontSize,`
  );line-height:1.2;letter-spacing:0.01em;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;`),N=m("p",{target:"elutsbk1"})("margin:0;color:",e.colors.text.primary,";font-size:0.95rem;line-height:1.4;&::before{margin-right:0.5ch;opacity:0.9;}"),O=m("p",{target:"elutsbk0"})("margin:0;color:",e.colors.text.primary,";font-size:0.95rem;line-height:1.4;&::before{margin-right:0.5ch;opacity:0.9;}");function $(u={}){const{maxLines:f=2,minFontSizePx:t=12,maxFontSizePx:i,deps:s=[]}=u,c=p.useRef(null),a=p.useRef(()=>{}),h=p.useRef(null),D=p.useRef(null),b=p.useCallback(()=>{const o=c.current;if(!o)return;o.style.fontSize="";const d=getComputedStyle(o);let l=i??parseFloat(d.fontSize||"16");if(l=Math.max(l,Math.ceil(l)),!isFinite(l)||l<=0)return;const n=document.createElement("div");n.textContent=o.textContent??"",["fontFamily","fontWeight","fontStyle","letterSpacing","textTransform","textIndent","wordSpacing","whiteSpace","wordBreak","overflowWrap","textRendering","hyphens"].forEach(r=>{n.style[r]=d[r]}),n.style.position="fixed",n.style.top="-9999px",n.style.left="0",n.style.visibility="hidden",n.style.pointerEvents="none",n.style.whiteSpace="normal",n.style.display="block",n.style.boxSizing="border-box",n.style.margin="0",n.style.padding="0",n.style.border="0";const T=Math.floor(o.clientWidth||o.getBoundingClientRect().width);n.style.width=`${T}px`,n.style.lineHeight=d.lineHeight,document.body.appendChild(n);const k=r=>{n.style.fontSize=`${r}px`;const z=(parseFloat(getComputedStyle(n).lineHeight||`${r*1.2}`)||r*1.2)*f+.5;return n.scrollHeight<=z};let y=t,x=Math.max(l,t);if(k(x)){o.style.fontSize=`${x}px`,document.body.removeChild(n);return}let v=y;for(;y<=x;){const r=Math.floor((y+x)/2);k(r)?(v=r,y=r+1):x=r-1}o.style.fontSize=`${v}px`,document.body.removeChild(n)},[f,t,i,...s]);return p.useLayoutEffect(()=>{b()},[b]),p.useEffect(()=>{const o=c.current;if(!o)return;const d=new ResizeObserver(()=>{requestAnimationFrame(b)});h.current=d,d.observe(o),o.parentElement&&d.observe(o.parentElement);const l=new MutationObserver(()=>{requestAnimationFrame(b)});return D.current=l,l.observe(o,{childList:!0,characterData:!0,subtree:!0}),a.current=()=>{d.disconnect(),l.disconnect()},()=>a.current()},[b]),p.useCallback(o=>{c.current=o},[])}const j=({text:u})=>{const f=typeof window<"u"?window.matchMedia("(max-width: 420px)").matches:!1,i=$({maxLines:2,minFontSizePx:f?14:12,deps:[u,f]});return g(B,{ref:i,children:u})},J=I(()=>{p.useEffect(()=>{S.fetchFilms()},[]);const u=t=>{if(!t||t.length===0)return;const i=new Date;i.setHours(0,0,0,0);const s=t.filter(Boolean).map(a=>new Date(a).getTime()).sort((a,h)=>a-h),c=s.find(a=>a>=i.getTime())??s[0];return c?new Date(c).toISOString().slice(0,10):void 0},f=t=>{if(!t)return"";const i=typeof t=="string"?t:String(t);return(i.includes("T")?new Date(i):new Date(`${i}T00:00:00`)).toLocaleDateString()};return w(E,{children:[g(P,{children:"Upcoming Films"}),g(L,{children:[...S.films].sort((t,i)=>{const s=u(t.runDates),c=u(i.runDates),a=s?new Date(s).getTime():Number.POSITIVE_INFINITY,h=c?new Date(c).getTime():Number.POSITIVE_INFINITY;return a-h}).map(t=>w(F,{to:`/film/${t.id}`,children:[g(M,{src:t.img,alt:t.title,loading:"lazy"}),w(A,{children:[g(j,{text:t.title}),g(N,{children:t.runDates&&t.runDates.length>0?t.runDates.slice().sort((i,s)=>new Date(i).getTime()-new Date(s).getTime()).map(f).join(" Â· "):"TBA"}),g(O,{children:t.runTime}),g(C,{onClick:i=>{i.preventDefault(),i.stopPropagation(),t.ticketLink&&window.open(t.ticketLink,"_blank","noopener,noreferrer")},children:"Buy Tickets"})]})]},t.id))})]})});export{J as default};
