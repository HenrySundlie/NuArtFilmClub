import{t,b as f,a as m,j as o}from"./index-B8TYp9eO.js";import{L as b,r as x}from"./react-Afj6T7yh.js";import{f as d}from"./FilmStore-DY9a9l3g.js";import{a as n}from"./emotion-CuswJqH_.js";import{B as w}from"./Page.styles-D3inl65N.js";import{u as h}from"./useAutoFitText-BgAafCc6.js";const k=n("div",{target:"elutsbk8"})("--radius:16px;--border:1px solid ",t.colors.border,";--ring:2px solid ",t.colors.accent,";--shadow:",t.shadows.lg,";min-height:100dvh;color:",t.colors.text.primary,`;background:radial-gradient(
      1200px 500px at 50% -10%,
      rgba(255, 255, 255, 0.06),
      transparent
    ),`,t.colors.background,";padding:clamp(",t.spacing.lg,", 3vw, ",t.spacing.xl,");-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;",t.breakpoints.mobile,"{padding:",t.spacing.md,";}"),y=n("h1",{target:"elutsbk7"})("margin:0 0 clamp(",t.spacing.lg,", 3vw, ",t.spacing.xl,`);text-align:left;letter-spacing:0.04em;line-height:1.08;font-weight:400;font-size:clamp(
    `,t.typography.h1.mobile.fontSize,`,
    4vw,
    `,t.typography.h1.fontSize,`
  );color:#ffffff;background:none;-webkit-background-clip:initial;background-clip:initial;position:relative;z-index:0;text-wrap:balance;`,t.breakpoints.mobile,"{max-width:calc(100% - 64px);display:block;}"),v=n("div",{target:"elutsbk6"})("max-width:1100px;margin:0 auto;display:grid;gap:clamp(",t.spacing.md,", 2.5vw, ",t.spacing.lg,");grid-template-columns:1fr;",t.breakpoints.desktop,"{grid-template-columns:repeat(2, minmax(0, 1fr));}",t.breakpoints.mobile,"{gap:",t.spacing.md,";}"),u=n(b,{target:"elutsbk5"})("position:relative;display:grid;grid-template-columns:clamp(110px, 22%, 180px) 1fr;align-items:stretch;text-decoration:none;border-radius:",t.radii.md,";overflow:clip;border:1px solid ",t.colors.text.light,";background:",t.surfaces.elevatedOverlay,",",t.colors.surfaceDeep,";box-shadow:none;transition:filter 220ms ease,background 220ms ease;min-height:clamp(150px, 18vw, 180px);&:hover{background:",t.surfaces.subtleOverlay,",",t.colors.surface,";filter:saturate(1.02) contrast(1.01);}&:focus-visible{outline:var(--ring);outline-offset:3px;}",t.breakpoints.mobile,"{grid-template-columns:clamp(110px, 40%, 180px) 1fr;min-height:160px;}"),T=n("img",{target:"elutsbk4"})("width:100%;height:100%;object-fit:cover;display:block;filter:saturate(1.03) contrast(1.02);transform:translateZ(0);transition:transform 450ms cubic-bezier(0.2, 0.7, 0, 1);",u,":hover &{transform:scale(1.03);}",t.breakpoints.mobile,"{height:100%;}"),D=n("div",{target:"elutsbk3"})("padding:clamp(",t.spacing.md,", 2vw, ",t.spacing.lg,");display:grid;align-content:center;gap:calc(",t.spacing.sm," * 0.75);color:",t.colors.text.primary,";min-width:0;"),F=n("h2",{target:"elutsbk2"})("margin:0;color:",t.colors.text.primary,`;font-size:clamp(
    `,t.typography.h2.mobile.fontSize,`,
    2.2vw,
    `,t.typography.h2.fontSize,`
  );line-height:1.2;letter-spacing:0.01em;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;`),z=n("p",{target:"elutsbk1"})("margin:0;color:",t.colors.text.primary,";font-size:0.95rem;line-height:1.4;&::before{margin-right:0.5ch;opacity:0.9;}"),S=n("p",{target:"elutsbk0"})("margin:0;color:",t.colors.text.primary,";font-size:0.95rem;line-height:1.4;&::before{margin-right:0.5ch;opacity:0.9;}"),I=({text:s})=>{const c=typeof window<"u"?window.matchMedia("(max-width: 420px)").matches:!1,e=h({maxLines:2,minFontSizePx:c?14:12,deps:[s,c]});return o(F,{ref:e,children:s})},E=f(()=>{x.useEffect(()=>{d.fetchFilms()},[]);const s=e=>{if(!e||e.length===0)return;const i=new Date;i.setHours(0,0,0,0);const r=e.filter(Boolean).map(a=>new Date(a).getTime()).sort((a,p)=>a-p),l=r.find(a=>a>=i.getTime())??r[0];return l?new Date(l).toISOString().slice(0,10):void 0},c=e=>{if(!e)return"";const i=typeof e=="string"?e:String(e);return(i.includes("T")?new Date(i):new Date(`${i}T00:00:00`)).toLocaleDateString()},g=h({maxLines:1,minFontSizePx:18});return m(k,{children:[o(y,{ref:g,children:"Upcoming Films"}),o(v,{children:[...d.films].sort((e,i)=>{const r=s(e.runDates),l=s(i.runDates),a=r?new Date(r).getTime():Number.POSITIVE_INFINITY,p=l?new Date(l).getTime():Number.POSITIVE_INFINITY;return a-p}).map(e=>m(u,{to:`/film/${e.id}`,children:[o(T,{src:e.img,alt:e.title,loading:"lazy"}),m(D,{children:[o(I,{text:e.title}),o(z,{children:e.runDates&&e.runDates.length>0?e.runDates.slice().sort((i,r)=>new Date(i).getTime()-new Date(r).getTime()).map(c).join(" Â· "):"TBA"}),o(S,{children:e.runTime}),o(w,{onClick:i=>{i.preventDefault(),i.stopPropagation(),e.ticketLink&&window.open(e.ticketLink,"_blank","noopener,noreferrer")},children:"Buy Tickets"})]})]},e.id))})]})});export{E as default};
