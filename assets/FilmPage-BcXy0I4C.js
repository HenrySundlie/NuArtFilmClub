const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-t1jBieIL.js","assets/index-DC_ha8rx.js","assets/emotion-CuswJqH_.js","assets/react-Afj6T7yh.js"])))=>i.map(i=>d[i]);
import{t as e,j as i,b as D,a as c,_ as T}from"./index-DC_ha8rx.js";import{f as u}from"./FilmStore-CLAmGYSi.js";import{L as S,g as _,r as p}from"./react-Afj6T7yh.js";import{a as s}from"./emotion-CuswJqH_.js";import{L as k}from"./LinkButton-D40pYlWt.js";const L=(n,r,a)=>{const t=n[r];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((o,l)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+r+(r.split("/").length!==a?". Note that variables only represent file names one level deep.":""))))})},h=s("div",{target:"eb0ka578"})("--radius:18px;--border:1px solid ",e.colors.border,";--shadow:",e.shadows.lg,";min-height:100dvh;color:",e.colors.text.primary,";background:",e.colors.background,";padding:clamp(",e.spacing.lg,", 3vw, ",e.spacing.xl,");-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;"),P=s("div",{target:"eb0ka577"})("max-width:min(1200px, 92vw);margin:0 auto;display:grid;grid-template-columns:1fr;gap:clamp(",e.spacing.lg,", 3vw, ",e.spacing.xl,");align-items:start;"),z=s(S,{target:"eb0ka576"})("justify-self:start;width:42px;height:42px;display:inline-flex;align-items:center;justify-content:center;text-decoration:none;border-radius:50%;border:1px solid ",e.colors.text.light,";background:",e.colors.surfaceDeep,";color:",e.colors.text.light,";position:relative;transition:background ",e.transitions.default,",color ",e.transitions.default,",border-color ",e.transitions.default,",filter ",e.transitions.default,";&::before{content:'';width:10px;height:10px;border-top:2px solid currentColor;border-left:2px solid currentColor;transform:rotate(-45deg) translateX(2px);margin-left:2px;}&:hover{filter:brightness(1.15);}&:active{filter:brightness(0.9);}&:focus-visible{outline:var(--ring);outline-offset:3px;}"),C=s("h1",{target:"eb0ka575"})("grid-column:1/-1;margin:0 0 clamp(",e.spacing.md,", 2vw, ",e.spacing.lg,`);font-size:clamp(
    `,e.typography.h1.mobile.fontSize,`,
    4vw,
    `,e.typography.h1.fontSize,`
  );line-height:1.1;text-align:center;letter-spacing:0.08em;font-weight:400;color:transparent;background:`,e.textStyles.gradientPrimary,";-webkit-background-clip:text;background-clip:text;text-wrap:balance;"),I=s("div",{target:"eb0ka574"})("position:relative;border:1px solid ",e.colors.border,";border-radius:",e.radii.md,";background:",e.colors.surface,";padding:clamp(",e.spacing.lg,", 2.5vw, ",e.spacing.xl,");box-shadow:none;display:grid;gap:",e.spacing.md,";backdrop-filter:none;color:",e.colors.text.primary,";"),d=s("p",{target:"eb0ka573"})("margin:0;display:grid;grid-template-columns:max(110px, 28%) 1fr;align-items:baseline;gap:calc(",e.spacing.md," * 0.5);line-height:1.6;color:",e.colors.text.primary,";"),g=s("strong",{target:"eb0ka572"})("color:",e.colors.text.primary,";letter-spacing:0.04em;text-transform:uppercase;font-size:0.85rem;"),M=s("p",{target:"eb0ka571"})("grid-column:1/-1;margin:clamp(",e.spacing.md,", 3vw, ",e.spacing.lg,") 0;color:",e.colors.text.primary,";font-size:clamp(1rem, 1.1vw, 1.125rem);line-height:1.85;text-wrap:pretty;hanging-punctuation:first allow-end;hyphens:auto;"),j=s("article",{target:"eb0ka570"})("grid-column:1/-1;margin:clamp(",e.spacing.lg,", 4vw, ",e.spacing.xl,") 0 0;padding:clamp(",e.spacing.lg,", 2.5vw, ",e.spacing.xl,");background:",e.surfaces.elevatedOverlay,",",e.colors.surfaceDeep,";border:1px solid ",e.colors.border,";border-radius:",e.radii.lg,";backdrop-filter:saturate(1.1) blur(6px);box-shadow:",e.shadows.card,";line-height:1.75;font-size:clamp(1rem, 1.05vw, 1.1rem);color:",e.colors.text.primary,";h2,h3,h4{font-weight:500;letter-spacing:0.04em;line-height:1.25;margin:2.2em 0 0.9em;color:",e.colors.text.primary,";}p+p{margin-top:1em;}a{color:",e.colors.link,";text-decoration:underline;text-underline-offset:2px;&:focus-visible{outline:",e.shadows.focus,";outline-offset:3px;border-radius:4px;}}ul,ol{margin:1em 0 1.25em;padding-left:1.25em;}blockquote{margin:1.5em 0;padding:0.75em 1em;border-left:4px solid ",e.colors.text.light,";background:rgba(255,255,255,0.04);font-style:italic;}");function b(n){return n.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}Z$/,"Z")}function x(n,r){const a=r&&/^\d{1,2}:\d{2}$/.test(r)?r:"19:00";return new Date(`${n}T${a}:00`)}function A({title:n,startDate:r,startTime:a,endTime:t,durationMinutes:o=120,location:l,details:m}){if(!r||!n)return null;const f=x(r,a),v=t?x(r,t):new Date(f.getTime()+o*6e4),y=`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:n,dates:`${b(f)}/${b(v)}`,details:m??"",location:l??"",ctz:Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"}).toString()}`;return i(k,{to:y,target:"_blank",rel:"noopener noreferrer","aria-label":"Add to Google Calendar",children:"Add to Google Calendar"})}const E=p.lazy(()=>T(()=>import("./index-t1jBieIL.js"),__vite__mapDeps([0,1,2,3]))),w=n=>{if(!n)return"";const r=typeof n=="string"?n:String(n);return(r.includes("T")?new Date(r):new Date(`${r}T00:00:00`)).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})};function $(n){if(!n||n.length===0)return;const r=new Date;r.setHours(0,0,0,0);const a=n.filter(Boolean).map(o=>new Date(o).getTime()).sort((o,l)=>o-l),t=a.find(o=>o>=r.getTime())??a[a.length-1];return t?new Date(t).toISOString().slice(0,10):void 0}const G=D(()=>{const{id:n}=_(),[r,a]=p.useState(null);p.useEffect(()=>{u.films.length===0&&u.fetchFilms()},[]);const t=u.films.find(o=>o.id===Number(n));return t?(p.useEffect(()=>{let o=!0;const l=t.article||`film-${t.id}`;return L(Object.assign({}),`../content/films/${l}.md`,4).then(m=>{o&&a(m.default||String(m))}).catch(()=>{o&&a(null)}),()=>{o=!1}},[t.id,t.article]),i(h,{children:c(P,{children:[i(z,{to:"/films","aria-label":"Back to film list"}),i(C,{children:t.title}),c(I,{children:[c(d,{children:[i(g,{children:"Year:"})," ",t.year]}),c(d,{children:[i(g,{children:"Director:"})," ",t.director]}),c(d,{children:[i(g,{children:"Notable Actors:"})," ",t.actors?.join(", ")]}),c(d,{children:[i(g,{children:"Duration:"})," ",t.duration," minutes"]}),c(d,{children:[i(g,{children:"Showings:"})," ",t.runDates&&t.runDates.length>1?t.runDates.slice().sort((o,l)=>new Date(o).getTime()-new Date(l).getTime()).map(w).join(" Â· "):w(t.runDates?.[0])]}),t.runTime&&c(d,{children:[i(g,{children:"Time:"})," ",t.runTime]}),i(k,{to:t.ticketLink,target:"_blank",rel:"noopener noreferrer",onClick:o=>o.stopPropagation(),children:"Buy Tickets"}),i(A,{title:t.title,startDate:$(t.runDates)??t.runDates?.[0],startTime:t.runTime,durationMinutes:t.duration,location:"Moscow, ID",details:t.description})]}),i(M,{children:t.description}),r&&i(j,{children:i(p.Suspense,{fallback:null,children:i(E,{children:r})})})]})})):i(h,{children:"Film not found"})});export{G as default};
