import{t,b as I,a as h,j as o}from"./index-DllfQ-zG.js";import{L as D,r as F}from"./react-Afj6T7yh.js";import{f as k}from"./FilmStore-C-3D6AgV.js";import{a as n}from"./emotion-CuswJqH_.js";import{B as N}from"./Page.styles-DqpXmOrq.js";import{u as w}from"./useAutoFitText-BgAafCc6.js";const z=n("div",{target:"elutsbk8"})("--radius:16px;--border:1px solid ",t.colors.border,";--ring:2px solid ",t.colors.accent,";--shadow:",t.shadows.lg,";min-height:100dvh;color:",t.colors.text.primary,`;background:radial-gradient(
      1200px 500px at 50% -10%,
      rgba(255, 255, 255, 0.06),
      transparent
    ),`,t.colors.background,";padding:clamp(",t.spacing.lg,", 3vw, ",t.spacing.xl,");-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;",t.breakpoints.mobile,"{padding:",t.spacing.md,";}"),S=n("h1",{target:"elutsbk7"})("margin:0 0 clamp(",t.spacing.lg,", 3vw, ",t.spacing.xl,`);text-align:left;letter-spacing:0.04em;line-height:1.08;font-weight:400;font-size:clamp(
    `,t.typography.h1.mobile.fontSize,`,
    4vw,
    `,t.typography.h1.fontSize,`
  );color:#ffffff;background:none;-webkit-background-clip:initial;background-clip:initial;position:relative;z-index:0;text-wrap:balance;`,t.breakpoints.mobile,"{max-width:calc(100% - 64px);display:block;}"),L=n("div",{target:"elutsbk6"})("max-width:1100px;margin:0 auto;display:grid;gap:clamp(",t.spacing.md,", 2.5vw, ",t.spacing.lg,");grid-template-columns:1fr;",t.breakpoints.desktop,"{grid-template-columns:repeat(2, minmax(0, 1fr));}",t.breakpoints.mobile,"{gap:",t.spacing.md,";}"),y=n(D,{target:"elutsbk5"})("position:relative;display:grid;grid-template-columns:clamp(110px, 22%, 180px) 1fr;align-items:stretch;text-decoration:none;border-radius:",t.radii.md,";overflow:clip;border:1px solid ",t.colors.text.light,";background:",t.surfaces.elevatedOverlay,",",t.colors.surfaceDeep,";box-shadow:none;transition:filter 220ms ease,background 220ms ease;min-height:clamp(150px, 18vw, 180px);&:hover{background:",t.surfaces.subtleOverlay,",",t.colors.surface,";filter:saturate(1.02) contrast(1.01);}&:focus-visible{outline:var(--ring);outline-offset:3px;}",t.breakpoints.mobile,"{grid-template-columns:clamp(110px, 40%, 180px) 1fr;min-height:160px;}"),P=n("img",{target:"elutsbk4"})("width:100%;height:100%;object-fit:cover;display:block;filter:saturate(1.03) contrast(1.02);transform:translateZ(0);transition:transform 450ms cubic-bezier(0.2, 0.7, 0, 1);",y,":hover &{transform:scale(1.03);}",t.breakpoints.mobile,"{height:100%;}"),E=n("div",{target:"elutsbk3"})("padding:clamp(",t.spacing.md,", 2vw, ",t.spacing.lg,");display:grid;align-content:center;gap:calc(",t.spacing.sm," * 0.75);color:",t.colors.text.primary,";min-width:0;"),A=n("h2",{target:"elutsbk2"})("margin:0;color:",t.colors.text.primary,`;font-size:clamp(
    `,t.typography.h2.mobile.fontSize,`,
    2.2vw,
    `,t.typography.h2.fontSize,`
  );line-height:1.2;letter-spacing:0.01em;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;`),j=n("p",{target:"elutsbk1"})("margin:0;color:",t.colors.text.primary,";font-size:0.95rem;line-height:1.4;&::before{margin-right:0.5ch;opacity:0.9;}"),B=n("p",{target:"elutsbk0"})("margin:0;color:",t.colors.text.primary,";font-size:0.95rem;line-height:1.4;&::before{margin-right:0.5ch;opacity:0.9;}"),_=({text:p})=>{const m=typeof window<"u"?window.matchMedia("(max-width: 420px)").matches:!1,i=w({maxLines:2,minFontSizePx:m?14:12,deps:[p,m]});return o(A,{ref:i,children:p})},R=I(()=>{F.useEffect(()=>{k.fetchFilms()},[]);const p=e=>{if(!e)return"";const i=typeof e=="string"?e:String(e);return(i.includes("T")?new Date(i):new Date(`${i}T00:00:00`)).toLocaleDateString()},m=w({maxLines:1,minFontSizePx:18});return h(z,{children:[o(S,{ref:m,children:"Upcoming Films"}),o(L,{children:[...k.films].sort((e,i)=>{const a=new Date;a.setHours(0,0,0,0);const u=c=>(c||[]).filter(Boolean).map(r=>new Date(r+(r.includes("T")?"":"T00:00:00")).getTime()).sort((r,T)=>r-T),s=u(e.runDates),l=u(i.runDates),b=c=>c.find(r=>r>=a.getTime()),f=b(s),x=b(l),g=!f&&s.length>0,d=!x&&l.length>0;if(g&&!d)return 1;if(d&&!g)return-1;if(!g&&!d){const c=f??s[0]??Number.POSITIVE_INFINITY,r=x??l[0]??Number.POSITIVE_INFINITY;return c-r}const v=s[s.length-1]??Number.NEGATIVE_INFINITY;return(l[l.length-1]??Number.NEGATIVE_INFINITY)-v}).map(e=>h(y,{to:`/film/${e.id}`,children:[o(P,{src:e.img,alt:e.title,loading:"lazy"}),h(E,{children:[o(_,{text:e.title}),o(j,{children:e.runDates&&e.runDates.length>0?e.runDates.slice().sort((i,a)=>new Date(i).getTime()-new Date(a).getTime()).map(p).join(" Â· "):"TBA"}),o(B,{children:e.runTime}),o(N,{onClick:i=>{i.preventDefault(),i.stopPropagation(),e.ticketLink&&window.open(e.ticketLink,"_blank","noopener,noreferrer")},children:"Buy Tickets"})]})]},e.id))})]})});export{R as default};
