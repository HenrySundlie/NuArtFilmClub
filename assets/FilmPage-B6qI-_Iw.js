const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-RTh2_bF1.js","assets/index-DesMA8HN.js","assets/emotion-CuswJqH_.js","assets/react-Afj6T7yh.js"])))=>i.map(i=>d[i]);
import{t as e,j as i,b as D,a as s,_ as T}from"./index-DesMA8HN.js";import{_ as S}from"./dynamic-import-helper-BheWnx7M.js";import{f as u}from"./FilmStore-vfkdQoVq.js";import{L as _,g as L,r as p}from"./react-Afj6T7yh.js";import{a as l}from"./emotion-CuswJqH_.js";import{L as k}from"./LinkButton-CrLrjKO2.js";const h=l("div",{target:"eb0ka578"})("--radius:18px;--border:1px solid ",e.colors.border,";--shadow:",e.shadows.lg,";min-height:100dvh;color:",e.colors.text.primary,";background:",e.colors.background,";padding:clamp(",e.spacing.lg,", 3vw, ",e.spacing.xl,");-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;"),$=l("div",{target:"eb0ka577"})("max-width:min(1200px, 92vw);margin:0 auto;display:grid;grid-template-columns:1fr;gap:clamp(",e.spacing.lg,", 3vw, ",e.spacing.xl,");align-items:start;"),z=l(_,{target:"eb0ka576"})("justify-self:start;width:42px;height:42px;display:inline-flex;align-items:center;justify-content:center;text-decoration:none;border-radius:50%;border:1px solid ",e.colors.text.light,";background:",e.colors.surfaceDeep,";color:",e.colors.text.light,";position:relative;transition:background ",e.transitions.default,",color ",e.transitions.default,",border-color ",e.transitions.default,",filter ",e.transitions.default,";&::before{content:'';width:10px;height:10px;border-top:2px solid currentColor;border-left:2px solid currentColor;transform:rotate(-45deg) translateX(2px);margin-left:2px;}&:hover{filter:brightness(1.15);}&:active{filter:brightness(0.9);}&:focus-visible{outline:var(--ring);outline-offset:3px;}"),C=l("h1",{target:"eb0ka575"})("grid-column:1/-1;margin:0 0 clamp(",e.spacing.md,", 2vw, ",e.spacing.lg,`);font-size:clamp(
    `,e.typography.h1.mobile.fontSize,`,
    4vw,
    `,e.typography.h1.fontSize,`
  );line-height:1.1;text-align:center;letter-spacing:0.08em;font-weight:400;color:transparent;background:`,e.textStyles.gradientPrimary,";-webkit-background-clip:text;background-clip:text;text-wrap:balance;"),I=l("div",{target:"eb0ka574"})("position:relative;border:1px solid ",e.colors.border,";border-radius:",e.radii.md,";background:",e.colors.surface,";padding:clamp(",e.spacing.lg,", 2.5vw, ",e.spacing.xl,");box-shadow:none;display:grid;gap:",e.spacing.md,";backdrop-filter:none;color:",e.colors.text.primary,";"),d=l("p",{target:"eb0ka573"})("margin:0;display:grid;grid-template-columns:max(110px, 28%) 1fr;align-items:baseline;gap:calc(",e.spacing.md," * 0.5);line-height:1.6;color:",e.colors.text.primary,";"),g=l("strong",{target:"eb0ka572"})("color:",e.colors.text.primary,";letter-spacing:0.04em;text-transform:uppercase;font-size:0.85rem;"),j=l("p",{target:"eb0ka571"})("grid-column:1/-1;margin:clamp(",e.spacing.md,", 3vw, ",e.spacing.lg,") 0;color:",e.colors.text.primary,";font-size:clamp(1rem, 1.1vw, 1.125rem);line-height:1.85;text-wrap:pretty;hanging-punctuation:first allow-end;hyphens:auto;"),A=l("article",{target:"eb0ka570"})("grid-column:1/-1;margin:clamp(",e.spacing.lg,", 4vw, ",e.spacing.xl,") 0 0;padding:clamp(",e.spacing.lg,", 2.5vw, ",e.spacing.xl,");background:",e.surfaces.elevatedOverlay,",",e.colors.surfaceDeep,";border:1px solid ",e.colors.border,";border-radius:",e.radii.lg,";backdrop-filter:saturate(1.1) blur(6px);box-shadow:",e.shadows.card,";line-height:1.75;font-size:clamp(1rem, 1.05vw, 1.1rem);color:",e.colors.text.primary,";h2,h3,h4{font-weight:500;letter-spacing:0.04em;line-height:1.25;margin:2.2em 0 0.9em;color:",e.colors.text.primary,";}p+p{margin-top:1em;}a{color:",e.colors.link,";text-decoration:underline;text-underline-offset:2px;&:focus-visible{outline:",e.shadows.focus,";outline-offset:3px;border-radius:4px;}}ul,ol{margin:1em 0 1.25em;padding-left:1.25em;}blockquote{margin:1.5em 0;padding:0.75em 1em;border-left:4px solid ",e.colors.text.light,";background:rgba(255,255,255,0.04);font-style:italic;}");function b(r){return r.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}Z$/,"Z")}function x(r,n){const a=n&&/^\d{1,2}:\d{2}$/.test(n)?n:"19:00";return new Date(`${r}T${a}:00`)}function P({title:r,startDate:n,startTime:a,endTime:t,durationMinutes:o=120,location:c,details:m}){if(!n||!r)return null;const f=x(n,a),v=t?x(n,t):new Date(f.getTime()+o*6e4),y=`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:r,dates:`${b(f)}/${b(v)}`,details:m??"",location:c??"",ctz:Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"}).toString()}`;return i(k,{to:y,target:"_blank",rel:"noopener noreferrer","aria-label":"Add to Google Calendar",children:"Add to Google Calendar"})}const E=p.lazy(()=>T(()=>import("./index-RTh2_bF1.js"),__vite__mapDeps([0,1,2,3]))),w=r=>{if(!r)return"";const n=typeof r=="string"?r:String(r);return(n.includes("T")?new Date(n):new Date(`${n}T00:00:00`)).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})};function M(r){if(!r||r.length===0)return;const n=new Date;n.setHours(0,0,0,0);const a=r.filter(Boolean).map(o=>new Date(o).getTime()).sort((o,c)=>o-c),t=a.find(o=>o>=n.getTime())??a[a.length-1];return t?new Date(t).toISOString().slice(0,10):void 0}const H=D(()=>{const{id:r}=L(),[n,a]=p.useState(null);p.useEffect(()=>{u.films.length===0&&u.fetchFilms()},[]);const t=u.films.find(o=>o.id===Number(r));return t?(p.useEffect(()=>{let o=!0;const c=t.article||`film-${t.id}`;return S(Object.assign({}),`../content/films/${c}.md`,4).then(m=>{o&&a(m.default||String(m))}).catch(()=>{o&&a(null)}),()=>{o=!1}},[t.id,t.article]),i(h,{children:s($,{children:[i(z,{to:"/films","aria-label":"Back to film list"}),i(C,{children:t.title}),s(I,{children:[s(d,{children:[i(g,{children:"Year:"})," ",t.year]}),s(d,{children:[i(g,{children:"Director:"})," ",t.director]}),s(d,{children:[i(g,{children:"Notable Actors:"})," ",t.actors?.join(", ")]}),s(d,{children:[i(g,{children:"Duration:"})," ",t.duration," minutes"]}),s(d,{children:[i(g,{children:"Showings:"})," ",t.runDates&&t.runDates.length>1?t.runDates.slice().sort((o,c)=>new Date(o).getTime()-new Date(c).getTime()).map(w).join(" Â· "):w(t.runDates?.[0])]}),t.runTime&&s(d,{children:[i(g,{children:"Time:"})," ",t.runTime]}),i(k,{to:t.ticketLink,target:"_blank",rel:"noopener noreferrer",onClick:o=>o.stopPropagation(),children:"Buy Tickets"}),i(P,{title:t.title,startDate:M(t.runDates)??t.runDates?.[0],startTime:t.runTime,durationMinutes:t.duration,location:"Moscow, ID",details:t.description})]}),i(j,{children:t.description}),n&&i(A,{children:i(p.Suspense,{fallback:null,children:i(E,{children:n})})})]})})):i(h,{children:"Film not found"})});export{H as default};
