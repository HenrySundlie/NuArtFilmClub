import{t,j as a,b as k,a as o}from"./index-BacQO6ul.js";import{f as p}from"./FilmStore-C6vb3cYe.js";import{g as D,r as v}from"./react-Afj6T7yh.js";import{a as c}from"./emotion-CuswJqH_.js";import{B as T}from"./Page.styles-BLo4yCO6.js";import{L as S}from"./LinkButton-D_ASAPE9.js";const u=c("div",{target:"eb0ka576"})("--radius:18px;--border:1px solid ",t.colors.border,";--shadow:",t.shadows.lg,";min-height:100dvh;color:",t.colors.text.primary,`;background:radial-gradient(
      1200px 500px at 50% -10%,
      rgba(255, 255, 255, 0.06),
      transparent
    ),`,t.colors.background,";padding:clamp(",t.spacing.lg,", 3vw, ",t.spacing.xl,");-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;"),L=c("div",{target:"eb0ka575"})("max-width:min(1200px, 92vw);margin:0 auto;display:grid;grid-template-columns:1fr;gap:clamp(",t.spacing.lg,", 3vw, ",t.spacing.xl,");align-items:start;"),$=c("h1",{target:"eb0ka574"})("grid-column:1/-1;margin:0 0 clamp(",t.spacing.md,", 2vw, ",t.spacing.lg,`);font-size:clamp(
    `,t.typography.h1.mobile.fontSize,`,
    4vw,
    `,t.typography.h1.fontSize,`
  );line-height:1.1;text-align:center;letter-spacing:0.08em;font-weight:400;color:transparent;background:`,t.textStyles.gradientPrimary,";-webkit-background-clip:text;background-clip:text;text-wrap:balance;"),z=c("div",{target:"eb0ka573"})("position:relative;border:1px solid ",t.colors.text.light,";border-radius:",t.radii.md,";background:",t.surfaces.elevatedOverlay,",",t.colors.surfaceDeep,";padding:clamp(",t.spacing.lg,", 2.5vw, ",t.spacing.xl,");box-shadow:none;display:grid;gap:",t.spacing.md,";backdrop-filter:saturate(1.2) blur(8px);color:",t.colors.text.primary,";"),s=c("p",{target:"eb0ka572"})("margin:0;display:grid;grid-template-columns:max(110px, 28%) 1fr;align-items:baseline;gap:calc(",t.spacing.md," * 0.5);line-height:1.6;color:",t.colors.text.primary,";"),d=c("strong",{target:"eb0ka571"})("color:",t.colors.text.primary,";letter-spacing:0.04em;text-transform:uppercase;font-size:0.85rem;"),C=c("p",{target:"eb0ka570"})("grid-column:1/-1;margin:clamp(",t.spacing.md,", 3vw, ",t.spacing.lg,") 0;color:",t.colors.text.primary,";font-size:clamp(1rem, 1.1vw, 1.125rem);line-height:1.85;text-wrap:pretty;hanging-punctuation:first allow-end;hyphens:auto;");function h(r){return r.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}Z$/,"Z")}function f(r,e){const n=e&&/^\d{1,2}:\d{2}$/.test(e)?e:"19:00";return new Date(`${r}T${n}:00`)}function I({title:r,startDate:e,startTime:n,endTime:i,durationMinutes:l=120,location:g,details:b}){if(!e||!r)return null;const m=f(e,n),w=i?f(e,i):new Date(m.getTime()+l*6e4),y=`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:r,dates:`${h(m)}/${h(w)}`,details:b??"",location:g??"",ctz:Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"}).toString()}`;return a(S,{to:y,target:"_blank",rel:"noopener noreferrer","aria-label":"Add to Google Calendar",children:"Add to Google Calendar"})}const x=r=>{if(!r)return"";const e=typeof r=="string"?r:String(r);return(e.includes("T")?new Date(e):new Date(`${e}T00:00:00`)).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})};function P(r){if(!r||r.length===0)return;const e=new Date;e.setHours(0,0,0,0);const n=r.filter(Boolean).map(l=>new Date(l).getTime()).sort((l,g)=>l-g),i=n.find(l=>l>=e.getTime())??n[n.length-1];return i?new Date(i).toISOString().slice(0,10):void 0}const G=k(()=>{const{id:r}=D();v.useEffect(()=>{p.films.length===0&&p.fetchFilms()},[]);const e=p.films.find(n=>n.id===Number(r));return e?a(u,{children:o(L,{children:[a($,{children:e.title}),o(z,{children:[o(s,{children:[a(d,{children:"Year:"})," ",e.year]}),o(s,{children:[a(d,{children:"Director:"})," ",e.director]}),o(s,{children:[a(d,{children:"Notable Actors:"})," ",e.actors?.join(", ")]}),o(s,{children:[a(d,{children:"Duration:"})," ",e.duration," minutes"]}),o(s,{children:[a(d,{children:"Showings:"})," ",e.runDates&&e.runDates.length>1?e.runDates.slice().sort((n,i)=>new Date(n).getTime()-new Date(i).getTime()).map(x).join(" Â· "):x(e.runDates?.[0])]}),e.runTime&&o(s,{children:[a(d,{children:"Time:"})," ",e.runTime]}),a(T,{onClick:n=>{n.stopPropagation(),window.open(e.ticketLink,"_blank","noopener,noreferrer")},children:"Buy Tickets"}),a(I,{title:e.title,startDate:P(e.runDates)??e.runDates?.[0],startTime:e.runTime,durationMinutes:e.duration,location:"Moscow, ID",details:e.description})]}),a(C,{children:e.description})]})}):a(u,{children:"Film not found"})});export{G as default};
